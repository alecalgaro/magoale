<!-- Librerías necesarias -->
<!-- Augmented Reality on the Web in 10 lines of html! https://github.com/jeromeetienne/ar.js 
<script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
 aframe-keyboard-controls.js Permite todas las accion utilizando el Teclado 
<script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
<script src="https://rawgit.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
-->
<script src="aframe.js"></script>
<script src="aframe-ar.min.js"></script>
<script src="aframe-ar.js"></script>
<script src="aframe-keyboard-controls.js"></script>

<body style="margin: 0px; overflow: hidden;"> <!-- Estilo del cuerpo de la página -->
  
  <!-- Para quitar de la pantalla una información que agrega arjs y el símbolo de realidad virtual de la esquina inferior izquierda -->
  <a-scene embedded arjs="debugUIEnabled: false;" vr-mode-ui="enabled: false"> 
    
    <!-- Para usar un marcador de barras lo crea acá: https://ar-js-org.github.io/AR.js/three.js/examples/marker-training/examples/generator.html
          y luego se pone el .patt en "url" que se descarga desde "Dowload marker" y para enfocar se usa la imagen que se descarga desde "dowload image"-->
    <!-- Para usar el marcador "hiro" que viene por defecto, se pone simplemente 
      <a-marker preset="hiro"> y se borra el resto -->
    <a-marker preset="hiro">
      
      <!-- Agrego el vídeo -->
      <!-- crossorigin="anonymous" es para que nos permita estar en internet y no tengamos ningun problema con la aplicación por un cruce de información -->
      <video id="mivideo" crossorigin="anonymous" src="2.mp4"></video>
      <a-video src="#mivideo" position="0 0 0" rotation="270 0 0"></a-video>  <!-- Características del vídeo -->

      <!-- Script que permite reproducir y detener el vídeo -->
      <script>
        //Cuando se enfoca el marcador, se pone play al vídeo:
        var m = document.querySelector("a-marker");
        m.addEventListener("markerFound", (e) => {
          console.log("found");
          var v = document.querySelector("#mivideo").play();  //Si quiero hacer otra cosa, ésta línea es la que se debería cambiar
        });
        //Cuando se deja de enforcar el marcador, el vídeo se pone en pausa:
        m.addEventListener("markerLost", (e) => {
          console.log("lost");
          var v = document.querySelector("#mivideo").pause();
        });

      </script>

    </a-marker>
    <a-entity camera></a-entity>  <!-- Cierro la entiedad de cámara -->
  </a-scene>
</body>
